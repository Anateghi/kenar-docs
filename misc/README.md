### دیپ لینک
اگر پس از یک فرایندی در وب ویو یا مرورگر میخواهید کاربر را به دیوار در اپ برگردانید میتوانید از دیپ لینک استفاده کافی است از کاربر را به لینک متناظر صفحه در اپ ریداریکت کنید.

| url             | location in app |
|-----------------|-----------------|
| https://divar.ir/my-divar/my-posts | تب دیوار من     |

به طور مثال با ریدایرکت کردن کاربر به ‍`https://divar.ir/my-divar/my-posts` کاربر به تب دیوار من(مدیریت) باز میگردد.

### ریدایرکت لینک
در ریدایرکت کردن کاربر از دیوار به اپ های کنار دیوار از صفحه آگهی و مدیریت آگهی ، تعدادی پارامتر در لینک قرار میگیرد که یکی از این پارامتر ها `return_url` نام دارد. هدف این لینک بازگرداندن کاربر به دیوار است. اپ کنار دیوار موظف است پس از اتمام کار باید کاربر را به این لینک به همراه پارامتر های زیر برگرداند.
| مثال    | توضیحات                                                       | پارامتر |
|---------|---------------------------------------------------------------|---------|
| 200000  | هزینه پرداخت شده توسط کاربر به ریال                           | price   |
| success | success or fail نشان دهنده موفق بودن یا نبودن عملیات است | status  |

نکته بسیار مهم این است که این عملیات ممکن است باعث [open redirection](https://learn.snyk.io/lesson/open-redirect/) یا حتی [xss](https://owasp.org/www-community/attacks/xss/)  شود بنابراین حتما بررسی کنید که url داده شده برای دیوار باشد. تیکه کد زیر یک فانکشن جاوا اسکریپت است که با استفاده از regex این کار را انجام میدهد.
```js
function isDivarLink(link) {
  // Define the regular expression for divar.ir and its subdomains
  const divarRegex = /^https:\/\/(?:[a-zA-Z0-9-]+\.)?divar\.ir(\/?|\/.+)/;

  // Test the link against the regular expression
  return divarRegex.test(link);
}
```

*نکته:* ر صورتی که این پارامتر به شما داده نشد میتوانید از دیپ لینک های تعریف شده بالا استفاده کنید یا تب را با استفاده از فانکشن های جاوااسکریپتی ببندید که کاربر به دیوار بازگردد.
